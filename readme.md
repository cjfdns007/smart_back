## 프로젝트 소개
해당 프로젝트는 독거노인을 보조하기 위한 프로젝트입니다.
여러 센서들로 부터 받은 데이터(심박수, 약통 열림, 외출 여부, 걸음수)들을 종합합니다.
모은 데이터들을 보호자에게 가시화하여 제공하며, 응급상황이 발생하면 알림을 통해 정보를 전달합니다.

## 기술 스택
node.js + express + typescript
Redis
mysql
Firebase Cloud Messaging

## 수행업무
API 설계 및 DB 설계, 서버사이드 개발

### 인증관련
* 회원가입
  - 회원가입시 입력한 비밀번호를 암호화하여 DB에 저장하였습니다.
  - 독거노인과 보호자 두 가지로 가입이 가능하도록 하였습니다.
* 로그인
  - 로그인시 JWT 토큰을 발급하고 토큰에 대한 ID와 독거노인 여부를 reids에 저장하였습니다.
  - 또한, 해당 유저 관련 FCM 토큰을 redis에 저장하여, 추후 알림이 갈 수 있도록 하였습니다.
* 로그아웃
  - redis에 저장되어있던 관련 정보를 제거하였습니다.
* 토큰검증
  - 해당 JWT이 redis에 저장되어 있는지에 따라 토큰을 검증하도록 하였습니다.
 
### 알림관련
* 알림전송
  - 센서 데이터가 threshold를 넘어서는 이상값이 들어올 경우, 보호자에게 FCM으로 메세지가 가도록 하였습니다.
  - 센서 데이터별로 다른 형식의 메세지를 이용하였습니다.

### 보호자 기능
* 독거노인 등록
  - 독거노인의 email을 통해서 최대 4명까지 등록할 수 있게 하였습니다. (DB에 저장합니다.)
  - 중복인 경우, 이미 등록된 독거노인이라고 알립니다.
* 독거노인 정보 확인
  - 등록된 독거노인의 ID와 이름을 볼 수 있는 기능을 제공하였습니다.
* 독거노인 등록해제
  - 등록된 독거노인의 ID를 통해 등록해제할 수 있도록 하였습니다. (DB에서 제거됩니다.)
* 데이터 확인
  - 등록되어있는 독거노인에 대한 데이터를 확인할 수 있게 하였습니다.
  - 전체 데이터 확인과 특정 센서에 대한 데이터 확인을 할 수 있도록 하였습니다.

### 독거노인측 데이터
* 걸음수
  - 걸음수에 대한 데이터는 독거노인측 모바일에서 들어옵니다.
  - 관련 데이터가 서버로 전송되는 경우, DB에 해당 시간과 raw data를 저장하도록 하였습니다.
 
### 센서 데이터
* 센서 등록
  - 독거노인 측에서 센서를 등록할 수 있도록 하였습니다. (DB 등록)
* 센서 제거
  - 독거노인 측에서 센서 ID를 통해 제거할 수 있도록 하였습니다. (DB에서 제거)
* 센서 정보 확인
  - 독거노인 측에서 등록되어있는 센서들에 대한 정보를 볼 수 있게 하였습니다.
* 센서 데이터 저장
  - 센서 ID, 시간, 값을 받아서 DB에 저장합니다.
  - 만일 threshold를 벗어나는 값이 들어오는 경우, 보호자에게 알림을 보냅니다.
* 센서 데이터 확인
  - 해당 센서로 저장되어있던 데이터를 보냅니다.
